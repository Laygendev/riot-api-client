<section class="sub-header background" [ngStyle]="{'background-image': getUrl()}">
	<div class="sub-header-content">
		<div class="wrap-padder">
			<p>Make sure you have read how to make a guide before created one</p>


			<div *ngIf="updatedBuild">
				<h2>Guide created with success !</h2>

				<p>Edit successfull</p>
				<p>To edit your guide go to <a routerLink="/">"my guides"</a> page</p>
				<a routerLink="/">Back to the home</a>

			</div>

			<div *ngIf="!updatedBuild">
				<div class="row" *ngIf="champion">
					<div class="col-sm">
						<img src="http://ddragon.leagueoflegends.com/cdn/{{dataService.realms.data.v}}/img/champion/{{champion.image.full}}" />
						{{champion.name}}
					</div>
					<div class="col-sm">
						<ul>
							<li>Strength: 100</li>
							<li>Armor: 100</li>
							<li>Vitality: 100</li>
						</ul>
					</div>
				</div>

				<h2 *ngIf="champion">You make a guide for {{champion.name}} in {{this.guide.gameMode}} for {{dataService.realms.data.v}}</h2>
			</div>
		</div>
	</div>
</section>

<section *ngIf="!updatedBuild" class="page-secondary">

	<div class="wrap-padder">
		<h2>Best starter</h2>

		<p>Clic on slot for open dropdown with all items of current map.</p>
		<p>Clic on item for assign him to the current slot.</p>

		<div class="itemsSlot">
			<div ngbDropdown class="dropdown" *ngFor="let itemSlot of guide.starterItemsSlot; let i = index">

				<ng-template #itemTemplate>
					<div *ngIf="itemSlot.item" class="container">
						<div class="img"><img src="https://raw.communitydragon.org/latest/plugins/rcp-be-lol-game-data/global/default/{{itemSlot.item.iconPath}}" /></div>
						<div>
							<strong>{{itemSlot.item.name}}</strong>
							<p [innerHTML]="itemSlot.item.description"></p>
						</div>
					</div>

					<p *ngIf="! itemSlot.item">Click for select item</p>
				</ng-template>

				<button placement="top" data-toggle="tooltip" [ngbTooltip]="itemTemplate" container="body" appDropdown ngbDropdownToggle class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					<img *ngIf="itemSlot.item" src="https://raw.communitydragon.org/latest/plugins/rcp-be-lol-game-data/global/default/{{itemSlot.item.iconPath}}" />
				</button>

				<div class="dropdown-menu" ngbDropdownMenu>
					<div class="search">
						<input appSearch class="form-control form-control-lg" type="text" placeholder="Search by item name">
					</div>
					<ul>
						<li class="item" *ngFor="let item of items">

							<ng-template #itemTemplate>
								<div class="container">
									<div class="img"><img src="https://raw.communitydragon.org/latest/plugins/rcp-be-lol-game-data/global/default/{{item.iconPath}}" /></div>
									<div>
										<strong>{{item.name}}</strong>
										<p [innerHTML]="item.description"></p>
									</div>
								</div>
							</ng-template>
							<div placement="top" data-toggle="tooltip" [ngbTooltip]="itemTemplate" container="body" (click)="selectItem('starterItemsSlot', i, item)">
								<img src="https://raw.communitydragon.org/latest/plugins/rcp-be-lol-game-data/global/default/{{item.iconPath}}" />
								<span style="visibility: hidden">{{item.name}}</span>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>

		<h2>Best build</h2>

		<p>Clic on slot for open dropdown with all items of current map.</p>
		<p>Clic on item for assign him to the current slot.</p>

		<div class="itemsSlot">
			<div ngbDropdown class="dropdown" *ngFor="let itemSlot of guide.buildItemsSlot; let i = index">

				<ng-template #itemTemplate>
					<div *ngIf="itemSlot.item" class="container">
						<div class="img"><img src="https://raw.communitydragon.org/latest/plugins/rcp-be-lol-game-data/global/default/{{itemSlot.item.iconPath}}" /></div>
						<div>
							<strong>{{itemSlot.item.name}}</strong>
							<p [innerHTML]="itemSlot.item.description"></p>
						</div>
					</div>

					<p *ngIf="! itemSlot.item">Click for select item</p>
				</ng-template>

				<button placement="top" data-toggle="tooltip" [ngbTooltip]="itemTemplate" container="body" appDropdown ngbDropdownToggle class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					<img *ngIf="itemSlot.item" src="https://raw.communitydragon.org/latest/plugins/rcp-be-lol-game-data/global/default/{{itemSlot.item.iconPath}}" />
				</button>

				<div class="dropdown-menu" ngbDropdownMenu>
					<div class="search">
						<input appSearch class="form-control form-control-lg" type="text" placeholder="Search by item name">
					</div>
					<ul>
						<li class="item" *ngFor="let item of items">

							<ng-template #itemTemplate>
								<div class="container">
									<div class="img"><img src="https://raw.communitydragon.org/latest/plugins/rcp-be-lol-game-data/global/default/{{item.iconPath}}" /></div>
									<div>
										<strong>{{item.name}}</strong>
										<p [innerHTML]="item.description"></p>
									</div>
								</div>
							</ng-template>
							<div placement="top" data-toggle="tooltip" [ngbTooltip]="itemTemplate" container="body" (click)="selectItem('buildItemsSlot', i, item)">
								<img src="https://raw.communitydragon.org/latest/plugins/rcp-be-lol-game-data/global/default/{{item.iconPath}}" />
								<span style="visibility: hidden">{{item.name}}</span>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>

		<h2>Best summoner spells</h2>
		<h2>Best skills</h2>

		<button (click)="update()" type="button" class="btn btn-primary">Update Guide</button>
	</div>
</section>
