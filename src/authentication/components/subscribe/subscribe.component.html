<section class="sub-header background">

	<div class="sub-header-content">
		<div class="wrap-padder">

			<h2 class="big-title">Subscribe</h2>

			<ul class="arianne">
				<li>
					<a routerLink="/">Home</a>
					<i class="fas fa-arrow-right"></i>
				</li>
				<li>Subscribe</li>
			</ul>

			<p>Already subscribed ? Click <a routerLink="/authentication">here</a> to login</p>
		</div>
	</div>
</section>

<section class="page-secondary">

	<div class="wrap-padder">
		<div *ngIf="inscriptionSuccess">
			<h3>Subscribed success</h3>

			<p>You can go <a routerLink="/">home</a> and watch player in game or create <a routerLink="/guide"> guide here</a></p>
		</div>


		<form *ngIf="! inscriptionSuccess" [formGroup]="userForm" (ngSubmit)="onSubmit()" novalidate>
			<div *ngIf="errorMessage" class="alert alert-danger" role="alert">
				{{errorMessage}}
			</div>

			<div class="form-group">
				<label for="mail">Email address</label>
				<input
							 class="form-control"
							 id="mail"
							 aria-describedby="mailHelp"
							 formControlName="mail">
				<small id="mailHelp" class="form-text text-muted">You're email is not displayed or used anywhere</small>
				<div class="red" *ngIf="userForm.get('mail').errors?.email">Email not valid.</div>
			</div>

			<div class="form-group">
				<label for="pseudo">Pseudo (Min length 5)</label>
				<input class="form-control"
							 formControlName="pseudo">
				<div class="red" *ngIf="userForm.get('pseudo').errors?.minlength">Pseudo need to be 5 characters more</div>
			</div>

			<div class="form-group" formGroupName="passwords">
				<label for="password">Password (Min length 5)</label>
				<input type="password"
							 class="form-control"
							 id="password"
							 formControlName="password">
				<div class="red" *ngIf="userForm.get(['passwords', 'password']).errors?.minlength">Password need to be 5 characters more</div>
				<label for="password">Confirm password</label>
				<input class="form-control"
								type="password"
								formControlName="repeatPassword">
				<div class="red" *ngIf="userForm.get('passwords').errors?.invalid">Password does not match</div>
			</div>

			<button type="submit"
							class="btn btn-primary">Subscribe</button>
		</form>
	</div>
</section>
